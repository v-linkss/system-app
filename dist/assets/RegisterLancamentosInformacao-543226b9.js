import{u as d}from"./vee-validate.esm-472c5a5d.js";import{A as I}from"./AppBar-caeecede.js";import{o as f,f as V,c as a,w as r,i as u,a2 as c,j as p,l as i,k as h,d as g,n as b,F as v,e as _,q as A,s as C,h as U}from"./index-bf573807.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";import{V as S}from"./VAutocomplete-22e1fd5b.js";import{V as L}from"./VRow-835fc559.js";import{V as M}from"./VDialog-7687c8ff.js";import{V as N,c as w,d as R}from"./VCard-8ca74176.js";import{V as T}from"./VSpacer-441d260f.js";import{V as y}from"./VContainer-bdb2f7f7.js";import"./layout-c76e1f01.js";const E=t=>(A("data-v-49f13c9b"),t=t(),C(),t),P=E(()=>U("h1",{class:"ml-5 mt-5 mb-5",style:{color:"#777777"}}," Lancamentos Informações ",-1)),q={data(){return{userData:{},lancamentosInformacoes:{conta_id:void 0,quantidade:void 0,data:void 0,valor:void 0},showError:!1,contas:[]}},methods:{returnToMainPage(){this.$router.push("/pi-informacoes/index")},async carregarContasCombolist(){const l={predio_id:JSON.parse(localStorage.getItem("predio")).predio_id};try{const s={Authorization:`Bearer ${this.userData.token}`},e=(await _.post("http://45.55.192.246:3333/service/gerencia/combolistContasInformacoes",l,{headers:s})).data.contas;this.contas=e}catch(s){console.error("Erro ao carregar tipos:",s)}},async submit(){this.lancamentosInformacoes.conta_id===void 0&&(this.lancamentosInformacoes.conta_id=null);const t=JSON.parse(localStorage.getItem("predio")),l=JSON.parse(localStorage.getItem("user")),s={valor:this.lancamentosInformacoes.valor,quantidade:this.lancamentosInformacoes.quantidade,conta_id:this.lancamentosInformacoes.conta_id,data:this.lancamentosInformacoes.data,predio_id:t.predio_id,user_created:l.id};try{const m={Authorization:`Bearer ${this.userData.token}`},e=await _.post("http://45.55.192.246:3333/service/gerencia/createLancamentosInformacoes",s,{headers:m});return this.$router.push("/pi-informacoes/index"),e}catch(m){console.error("Erro na criação do registro:",m),this.showError=!1}}},mounted(){this.userData=JSON.parse(localStorage.getItem("user")),this.carregarContasCombolist()}},B=Object.assign(q,{__name:"RegisterLancamentosInformacoes",setup(t){const l=d("equipamento_id"),s=d("codigo"),m=d("fabricante");return(e,n)=>(f(),V(v,null,[a(I),a(y,null,{default:r(()=>[P,a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.data,"onUpdate:modelValue":n[0]||(n[0]=o=>e.lancamentosInformacoes.data=o),"error-messages":c(m).errorMessage.value,label:"Data(*)",type:"date",autofocus:""},null,8,["modelValue","error-messages"]),a(S,{class:"ml-5 mr-5 mb-5",modelValue:e.lancamentosInformacoes.conta_id,"onUpdate:modelValue":n[1]||(n[1]=o=>e.lancamentosInformacoes.conta_id=o),items:e.contas,"item-title":"descricao","item-value":"id","error-messages":c(l).errorMessage.value,label:"Selecione uma Conta(*)",dense:"",clearable:""},null,8,["modelValue","items","error-messages"]),a(L,{"no-gutters":""},{default:r(()=>[a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.quantidade,"onUpdate:modelValue":n[2]||(n[2]=o=>e.lancamentosInformacoes.quantidade=o),modelModifiers:{number:!0},"error-messages":c(s).errorMessage.value,label:"Quantidade"},null,8,["modelValue","error-messages"]),a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.valor,"onUpdate:modelValue":n[3]||(n[3]=o=>e.lancamentosInformacoes.valor=o),modelModifiers:{number:!0},"error-messages":c(s).errorMessage.value,label:"Valor(*)"},null,8,["modelValue","error-messages"])]),_:1}),a(p,{class:"me-4 mt-8",color:"red",onClick:e.returnToMainPage},{default:r(()=>[i(" Voltar ")]),_:1},8,["onClick"]),a(M,{"max-width":"500"},{activator:r(({props:o})=>[a(p,h({class:"me-4 mt-8"},o,{color:"green",onClick:e.submit}),{default:r(()=>[i(" Salvar ")]),_:2},1040,["onClick"])]),default:r(({isActive:o})=>[e.showError?(f(),g(N,{key:0},{default:r(()=>[a(w,null,{default:r(()=>[i(" Faltou preencher os campos obrigatorios ")]),_:1}),a(R,null,{default:r(()=>[a(T),a(p,{style:{"background-color":"#1b5175",color:"white"},onClick:D=>o.value=!1},{default:r(()=>[i("OK")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):b("",!0)]),_:1})]),_:1})],64))}}),$=k(B,[["__scopeId","data-v-49f13c9b"]]),X={__name:"RegisterLancamentosInformacao",setup(t){return(l,s)=>(f(),g($))}};export{X as default};
