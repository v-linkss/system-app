import{u as d}from"./vee-validate.esm-9e73a9b7.js";import{A as I}from"./AppBar-f0429b7c.js";import{o as f,f as h,c as a,w as s,i as u,a2 as m,j as p,l as i,k as V,d as g,n as b,F as v,e as _,q as A,s as C,h as U}from"./index-88a5129e.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";import{V as S}from"./VAutocomplete-6839ad36.js";import{V as L}from"./VRow-0c716acb.js";import{V as M}from"./VDialog-b3b4de36.js";import{V as N,c as w,d as R}from"./VCard-2409a6d1.js";import{V as T}from"./VSpacer-49a1f52c.js";import{V as y}from"./VContainer-2697f82e.js";import"./layout-44c14d18.js";const E=t=>(A("data-v-49f13c9b"),t=t(),C(),t),P=E(()=>U("h1",{class:"ml-5 mt-5 mb-5",style:{color:"#777777"}}," Lancamentos Informações ",-1)),q={data(){return{userData:{},lancamentosInformacoes:{conta_id:void 0,quantidade:void 0,data:void 0,valor:void 0},showError:!1,contas:[]}},methods:{returnToMainPage(){this.$router.push("/pi-informacoes/index")},async carregarContasCombolist(){const l={predio_id:JSON.parse(localStorage.getItem("predio")).predio_id};try{const r={Authorization:`Bearer ${this.userData.token}`},e=(await _.post("http://localhost:3333/service/gerencia/combolistContasInformacoes",l,{headers:r})).data.contas;this.contas=e}catch(r){console.error("Erro ao carregar tipos:",r)}},async submit(){this.lancamentosInformacoes.conta_id===void 0&&(this.lancamentosInformacoes.conta_id=null);const t=JSON.parse(localStorage.getItem("predio")),l=JSON.parse(localStorage.getItem("user")),r={valor:this.lancamentosInformacoes.valor,quantidade:this.lancamentosInformacoes.quantidade,conta_id:this.lancamentosInformacoes.conta_id,data:this.lancamentosInformacoes.data,predio_id:t.predio_id,user_created:l.id};try{const c={Authorization:`Bearer ${this.userData.token}`},e=await _.post("http://localhost:3333/service/gerencia/createLancamentosInformacoes",r,{headers:c});return this.$router.push("/pi-informacoes/index"),e}catch(c){console.error("Erro na criação do registro:",c),this.showError=!1}}},mounted(){this.userData=JSON.parse(localStorage.getItem("user")),this.carregarContasCombolist()}},B=Object.assign(q,{__name:"RegisterLancamentosInformacoes",setup(t){const l=d("equipamento_id"),r=d("codigo"),c=d("fabricante");return(e,n)=>(f(),h(v,null,[a(I),a(y,null,{default:s(()=>[P,a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.data,"onUpdate:modelValue":n[0]||(n[0]=o=>e.lancamentosInformacoes.data=o),"error-messages":m(c).errorMessage.value,label:"Data(*)",type:"date",autofocus:""},null,8,["modelValue","error-messages"]),a(S,{class:"ml-5 mr-5 mb-5",modelValue:e.lancamentosInformacoes.conta_id,"onUpdate:modelValue":n[1]||(n[1]=o=>e.lancamentosInformacoes.conta_id=o),items:e.contas,"item-title":"descricao","item-value":"id","error-messages":m(l).errorMessage.value,label:"Selecione uma Conta(*)",dense:"",clearable:""},null,8,["modelValue","items","error-messages"]),a(L,{"no-gutters":""},{default:s(()=>[a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.quantidade,"onUpdate:modelValue":n[2]||(n[2]=o=>e.lancamentosInformacoes.quantidade=o),modelModifiers:{number:!0},"error-messages":m(r).errorMessage.value,label:"Quantidade"},null,8,["modelValue","error-messages"]),a(u,{class:"ml-5 mr-5",modelValue:e.lancamentosInformacoes.valor,"onUpdate:modelValue":n[3]||(n[3]=o=>e.lancamentosInformacoes.valor=o),modelModifiers:{number:!0},"error-messages":m(r).errorMessage.value,label:"Valor(*)"},null,8,["modelValue","error-messages"])]),_:1}),a(p,{class:"me-4 mt-8",color:"red",onClick:e.returnToMainPage},{default:s(()=>[i(" Voltar ")]),_:1},8,["onClick"]),a(M,{"max-width":"500"},{activator:s(({props:o})=>[a(p,V({class:"me-4 mt-8"},o,{color:"green",onClick:e.submit}),{default:s(()=>[i(" Salvar ")]),_:2},1040,["onClick"])]),default:s(({isActive:o})=>[e.showError?(f(),g(N,{key:0},{default:s(()=>[a(w,null,{default:s(()=>[i(" Faltou preencher os campos obrigatorios ")]),_:1}),a(R,null,{default:s(()=>[a(T),a(p,{style:{"background-color":"#1b5175",color:"white"},onClick:D=>o.value=!1},{default:s(()=>[i("OK")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):b("",!0)]),_:1})]),_:1})],64))}}),$=k(B,[["__scopeId","data-v-49f13c9b"]]),X={__name:"RegisterLancamentosInformacao",setup(t){return(l,r)=>(f(),g($))}};export{X as default};
