import{A}from"./AppBar-f0429b7c.js";import{r as u,o as c,d as h,w as a,c as o,f as P,l as s,x as r,a4 as m,i as v,j as _,e as p,q as y,s as T,h as V}from"./index-88a5129e.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{V as n}from"./VCol-888c2a5e.js";import{V as l}from"./VSheet-61cd24e9.js";import{V as k}from"./VContainer-2697f82e.js";import"./VAutocomplete-6839ad36.js";import"./VSpacer-49a1f52c.js";import"./layout-44c14d18.js";const L=t=>(y("data-v-6a13bf7f"),t=t(),T(),t),U={key:1},$=L(()=>V("h1",{class:"ml-10 mt-5",style:{color:"#777777"}},"Prorrogar Titulo",-1)),w={data(){return{userData:{},dados:{},dt_vencimento:null,loading:!0}},methods:{returnToMainPage(){this.$router.push("/gestao-perimetros/index")},async updateProrrogacao(){try{const t={Authorization:`Bearer ${this.userData.token}`},e=JSON.parse(localStorage.getItem("user")),d={dt_vencimento:this.dt_vencimento,user_alteracao:e.id},i=await p.put(`http://localhost:3333/service/gerencia/updatePrediosTitulos/${this.dados.documento}`,d,{headers:t});return console.log(i),this.$router.push("/gestao-perimetros/index"),i}catch(t){console.error("Erro na chamada de API:",t)}},async loadLotes(){try{const t={Authorization:`Bearer ${this.userData.token}`},e=await p.get(`http://localhost:3333/service/gerencia/getPrediosTitulosById/${this.dados.documento}`,{headers:t});this.dados=e.data}catch(t){console.error("Erro na chamada de API:",t)}finally{this.loading=!1}}},created(){this.$route.query.documento?(this.dados.documento=this.$route.query.documento,this.loadLotes()):console.log("Erro em carregar dados")},mounted(){console.log("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"),this.userData=JSON.parse(localStorage.getItem("user")),(async()=>await this.loadLotes())()}},N=Object.assign(w,{__name:"TitulosProrrogacao",setup(t){return(e,d)=>{const i=u("font-awesome-icon"),f=u("LoadingComponent");return e.loading?(c(),h(f,{key:0},{default:a(()=>[o(i,{icon:["fas","spinner"],spin:""})]),_:1})):(c(),P("div",U,[o(A),$,o(k,{class:"data-container mt-7 mb-8"},{default:a(()=>[o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s(" Lote: "+r(e.dados.pi_lotes.numero)+" - "+r(e.dados.pi_lotes.nome),1)]),_:1})]),_:1}),o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s(" Título: "+r(e.dados.documento),1)]),_:1})]),_:1}),o(m,{width:"100%"}),o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s(" Nosso Número: "+r(e.dados.nosso_numero),1)]),_:1})]),_:1}),o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s(" Valor: R$ "+r(e.dados.valor),1)]),_:1})]),_:1}),o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s("Vencimento: "+r(e.dados.dt_vencimento),1)]),_:1})]),_:1}),o(m,{width:"100%"}),o(n,null,{default:a(()=>[o(l,{class:"pa-2 ma-2"},{default:a(()=>[s(" Link do Boleto: "+r(e.dados.link_boleto),1)]),_:1})]),_:1})]),_:1}),o(v,{style:{width:"400px","margin-left":"170px"},modelValue:e.dt_vencimento,"onUpdate:modelValue":d[0]||(d[0]=g=>e.dt_vencimento=g),type:"date",label:"Data de vencimento"},null,8,["modelValue"]),o(_,{class:"me-4",style:{"margin-left":"170px"},color:"red",onClick:e.returnToMainPage},{default:a(()=>[s(" Voltar ")]),_:1},8,["onClick"]),o(_,{class:"me-4",color:"green",onClick:e.updateProrrogacao},{default:a(()=>[s(" Salvar ")]),_:1},8,["onClick"])]))}}}),B=I(N,[["__scopeId","data-v-6a13bf7f"]]),x={__name:"TitulosProrrogacao",setup(t){return(e,d)=>(c(),h(B))}};export{x as default};
